<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dashboard Instrutor - Instituto Buriti</title>

  <!-- Preconnect para fontes (micro ganho) -->
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>

  <!-- CSS (caminhos absolutos) -->
  <link rel="stylesheet" href="/css/style.css"/>
  <link rel="stylesheet" href="/css/dashboard.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>

  <!-- Anti-flash enquanto checa autenticação -->
  <style>html[data-auth="checking"] body.dashboard-body{visibility:hidden;}</style>

  <!-- Núcleo de autenticação + guard compartilhado -->
  <script src="/js/auth.js" defer></script>
  <script src="/js/dashboard-auth.js" defer></script>
  <script>
    // Sinaliza checagem de auth; dashboard-auth.js vai validar role=instrutor
    document.documentElement.setAttribute('data-auth','checking');
  </script>
</head>

<!-- Papel esperado: instrutor -->
<body class="dashboard-body" data-dashboard-role="instrutor" aria-busy="true">
  <!-- Fallback sem JavaScript -->
  <noscript>
    <div style="padding: 20px; background: #f8d7da; color: #721c24; text-align: center;">
      Este painel requer JavaScript habilitado para funcionar corretamente. Por favor, ative o JavaScript no seu navegador.
    </div>
  </noscript>

  <!-- Skip links para acessibilidade -->
  <a class="skip-link" href="#main-content">Pular para o conteúdo</a>
  <a class="skip-link" href="#overview">Ir para “Visão Geral”</a>

  <!-- Header -->
  <header class="header">
    <nav class="nav" aria-label="principal">
      <div class="nav-item"><a href="/index.html">Home</a></div>
      <div class="nav-item"><a href="/pages/quem-somos.html">Quem Somos</a></div>
      <div class="nav-item"><a href="/pages/cursos.html">Cursos</a></div>
      <div class="nav-item"><a href="/pages/seja-instrutor-novo.html">Seja um Instrutor</a></div>
      <div class="nav-item"><a href="/pages/contato.html">Contato</a></div>
      <div class="nav-item login-dropdown">
        <!-- Hidratação global por dashboard-auth.js -->
        <button class="login-btn user-name" type="button" aria-haspopup="menu" aria-expanded="false" aria-controls="user-menu" aria-label="Conta do instrutor" data-user-name data-static="false">Instrutor</button>
        <div class="dropdown-menu" role="menu" id="user-menu" aria-label="Menu do usuário">
          <a href="/pages/dashboard-instrutor.html" class="dropdown-item active" aria-current="page" role="menuitem">Dashboard</a>
          <a href="#logout" class="dropdown-item" data-action="logout" role="menuitem">Sair</a>
        </div>
      </div>
    </nav>
  </header>

  <!-- Dashboard Container -->
  <div class="dashboard-container">
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar" aria-label="menu lateral">
      <div class="sidebar-header">
        <div class="user-info">
          <div class="user-avatar instructor" aria-hidden="true"><i class="fas fa-chalkboard-teacher" aria-hidden="true"></i></div>
          <div class="user-details">
            <h3 class="user-name" data-user-name data-static="false">Instrutor(a)</h3>
            <p class="user-role" data-user-role data-static="false">Instrutor</p>
          </div>
        </div>
        <button class="sidebar-toggle" id="sidebarToggle" type="button" aria-label="Recolher menu" aria-controls="sidebar" aria-expanded="true">
          <i class="fas fa-bars" aria-hidden="true"></i>
        </button>
      </div>
      <nav class="sidebar-nav">
        <a href="#overview" class="nav-link active" data-section="overview" aria-current="page">
          <i class="fas fa-home" aria-hidden="true"></i><span>Visão Geral</span>
        </a>
        <a href="#courses" class="nav-link" data-section="courses">
          <i class="fas fa-graduation-cap" aria-hidden="true"></i><span>Meus Cursos</span>
        </a>
        <a href="#pending" class="nav-link" data-section="pending">
          <i class="fas fa-tasks" aria-hidden="true"></i><span>Pendências</span>
        </a>
        <a href="#live-classes" class="nav-link" data-section="live-classes">
          <i class="fas fa-video" aria-hidden="true"></i><span>Aulas ao Vivo</span>
        </a>
        <a href="#performance" class="nav-link" data-section="performance">
          <i class="fas fa-chart-bar" aria-hidden="true"></i><span>Performance</span>
        </a>
        <a href="#settings" class="nav-link" data-section="settings">
          <i class="fas fa-cogs" aria-hidden="true"></i><span>Configurações</span>
        </a>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content" id="main-content" role="main">
      <!-- Overview Section -->
      <section id="overview" class="dashboard-section active" aria-labelledby="overview-title">
        <div class="section-header">
          <h1 id="overview-title">Bem-vindo, <span class="user-name" data-user-name data-static="false">Instrutor(a)</span>!</h1>
          <p>Continue inspirando seus alunos com conteúdo de qualidade.</p>
        </div>
        <div class="stats-grid">
          <div class="stat-card instructor" role="status">
            <div class="stat-icon"><i class="fas fa-users" aria-hidden="true"></i></div>
            <div class="stat-info"><h3>145</h3><p>Alunos Totais</p></div>
          </div>
          <div class="stat-card instructor" role="status">
            <div class="stat-icon"><i class="fas fa-book" aria-hidden="true"></i></div>
            <div class="stat-info"><h3>3</h3><p>Cursos Ativos</p></div>
          </div>
          <div class="stat-card instructor" role="status">
            <div class="stat-icon"><i class="fas fa-star" aria-hidden="true"></i></div>
            <div class="stat-info"><h3>4.8</h3><p>Avaliação Média</p></div>
          </div>
          <div class="stat-card instructor" role="status">
            <div class="stat-icon"><i class="fas fa-dollar-sign" aria-hidden="true"></i></div>
            <div class="stat-info"><h3>R$ 5.2K</h3><p>Receita Mensal</p></div>
          </div>
        </div>
        <div class="dashboard-grid">
          <div class="dashboard-card">
            <div class="card-header"><h3><i class="fas fa-book" aria-hidden="true"></i> Cursos em Andamento</h3></div>
            <div class="card-content">
              <div class="course-item instructor">
                <div class="course-info">
                  <h4>Educação Inclusiva</h4>
                  <p>28 alunos matriculados</p>
                  <div class="course-stats">
                    <span><i class="fas fa-user-check" aria-hidden="true"></i> 18 ativos</span>
                    <span><i class="fas fa-star" aria-hidden="true"></i> 4.7</span>
                  </div>
                </div>
                <div class="course-actions">
                  <button class="btn-primary" type="button">Gerenciar</button>
                  <button class="btn-secondary" type="button">Relatório</button>
                </div>
              </div>
              <div class="course-item instructor">
                <div class="course-info">
                  <h4>Metodologias Ativas</h4>
                  <p>45 alunos matriculados</p>
                  <div class="course-stats">
                    <span><i class="fas fa-user-check" aria-hidden="true"></i> 32 ativos</span>
                    <span><i class="fas fa-star" aria-hidden="true"></i> 4.9</span>
                  </div>
                </div>
                <div class="course-actions">
                  <button class="btn-primary" type="button">Gerenciar</button>
                  <button class="btn-secondary" type="button">Relatório</button>
                </div>
              </div>
            </div>
          </div>
          <div class="dashboard-card">
            <div class="card-header"><h3><i class="fas fa-tasks" aria-hidden="true"></i> Pendências</h3></div>
            <div class="card-content">
              <div class="pending-item">
                <div class="pending-info">
                  <h4>Avaliar Trabalhos</h4>
                  <p>12 submissões pendentes</p>
                  <span class="pending-course">Educação Inclusiva</span>
                </div>
                <span class="pending-status">Pendente</span>
              </div>
              <div class="pending-item urgent">
                <div class="pending-info">
                  <h4>Responder Dúvidas</h4>
                  <p>5 mensagens não lidas</p>
                  <span class="pending-course">Metodologias Ativas</span>
                </div>
                <span class="pending-status urgent">Urgente</span>
              </div>
            </div>
          </div>
          <div class="dashboard-card">
            <div class="card-header"><h3><i class="fas fa-video" aria-hidden="true"></i> Próxima Aula ao Vivo</h3></div>
            <div class="card-content">
              <div class="live-class-item instructor">
                <div class="class-info">
                  <h4>Inclusão na Prática</h4>
                  <p>Educação Inclusiva</p>
                  <div class="class-schedule">
                    <span><i class="fas fa-calendar" aria-hidden="true"></i> <time datetime="2024-07-23">23/07/2024</time></span>
                    <span><i class="fas fa-clock" aria-hidden="true"></i> <time datetime="20:00">20:00</time> - <time datetime="21:30">21:30</time></span>
                  </div>
                </div>
                <div class="class-actions">
                  <button class="btn-live" type="button">Iniciar</button>
                  <button class="btn-outline" type="button">Editar</button>
                </div>
              </div>
            </div>
          </div>
          <div class="dashboard-card">
            <div class="card-header"><h3><i class="fas fa-chart-line" aria-hidden="true"></i> Métricas de Performance</h3></div>
            <div class="card-content">
              <div class="performance-metrics">
                <div class="metric-item">
                  <span class="metric-label">Engajamento Médio</span>
                  <span class="metric-value">87%</span>
                  <span class="metric-trend positive">+5% <i class="fas fa-arrow-up" aria-hidden="true"></i></span>
                </div>
                <div class="metric-item">
                  <span class="metric-label">Taxa de Conclusão</span>
                  <span class="metric-value">68%</span>
                  <span class="metric-trend positive">+3% <i class="fas fa-arrow-up" aria-hidden="true"></i></span>
                </div>
                <div class="metric-item">
                  <span class="metric-label">Avaliação Média</span>
                  <span class="metric-value">4.8</span>
                  <span class="metric-trend">Estável</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <!-- Courses Section -->
      <section id="courses" class="dashboard-section" aria-labelledby="courses-title">
        <div class="section-header">
          <h1 id="courses-title">Meus Cursos</h1>
          <p>Gerencie seus cursos e acompanhe o desempenho</p>
          <div class="header-actions">
            <button class="btn-primary" type="button"><i class="fas fa-plus" aria-hidden="true"></i> Novo Curso</button>
          </div>
        </div>
        <div class="courses-grid instructor">
          <div class="course-card instructor">
            <div class="course-header">
              <img src="/images/8-perguntas-e-respostas-sobre-educacao-especial-e-inclusiva.jpg.webp" alt="Educação Inclusiva" class="course-image" loading="lazy" decoding="async"/>
              <span class="course-badge published">Publicado</span>
            </div>
            <div class="course-content">
              <h3>Educação Inclusiva</h3>
              <p>28 alunos</p>
              <div class="course-stats-detailed">
                <div class="stat-row"><span>Conclusões: 18</span><span>Engajamento: 85%</span></div>
                <div class="stat-row"><span>Avaliação: 4.7</span><span>Receita: R$ 2.450</span></div>
              </div>
            </div>
            <div class="course-actions">
              <button class="btn-primary" type="button">Gerenciar</button>
              <button class="btn-secondary" type="button">Relatório</button>
              <button class="btn-outline" type="button">Editar</button>
            </div>
          </div>
          <div class="course-card instructor">
            <div class="course-header">
              <img src="/images/WhatsApp-Image-2023-07-03-at-17.31.11.jpeg" alt="Metodologias Ativas" class="course-image" loading="lazy" decoding="async"/>
              <span class="course-badge published">Publicado</span>
            </div>
            <div class="course-content">
              <h3>Metodologias Ativas</h3>
              <p>45 alunos</p>
              <div class="course-stats-detailed">
                <div class="stat-row"><span>Conclusões: 32</span><span>Engajamento: 92%</span></div>
                <div class="stat-row"><span>Avaliação: 4.9</span><span>Receita: R$ 3.850</span></div>
              </div>
            </div>
            <div class="course-actions">
              <button class="btn-primary" type="button">Gerenciar</button>
              <button class="btn-secondary" type="button">Relatório</button>
              <button class="btn-outline" type="button">Editar</button>
            </div>
          </div>
        </div>
      </section>
      <!-- Pending Section -->
      <section id="pending" class="dashboard-section" aria-labelledby="pending-title">
        <div class="section-header">
          <h1 id="pending-title">Pendências</h1>
          <p>Gerencie avaliações e respostas pendentes</p>
        </div>
      </section>
      <!-- Live Classes Section -->
      <section id="live-classes" class="dashboard-section" aria-labelledby="live-classes-title">
        <div class="section-header">
          <h1 id="live-classes-title">Aulas ao Vivo</h1>
          <p>Programe e gerencie suas transmissões</p>
        </div>
      </section>
      <!-- Performance Section -->
      <section id="performance" class="dashboard-section" aria-labelledby="performance-title">
        <div class="section-header">
          <h1 id="performance-title">Performance</h1>
          <p>Análise detalhada do desempenho dos cursos</p>
        </div>
      </section>
      <!-- Settings Section -->
      <section id="settings" class="dashboard-section" aria-labelledby="settings-title">
        <div class="section-header">
          <h1 id="settings-title">Configurações</h1>
          <p>Ajuste suas preferências e configurações</p>
        </div>
      </section>
    </main>
  </div>

  <!-- Message Container -->
  <div id="message-container" class="message-container" aria-live="polite" aria-atomic="true"></div>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-brand">
          <img src="/images/LogomarcaInstitutoBuriti.png" alt="Instituto Buriti" class="footer-logo" loading="lazy" decoding="async"/>
          <h3>Educação que transforma. Cultura que conecta.</h3>
          <p>Instituto Buriti, uma empresa 100% digital.</p>
        </div>
        <div class="footer-links">
          <div class="footer-column">
            <h4>Links Rápidos</h4>
            <ul>
              <li><a href="/index.html">Home</a></li>
              <li><a href="/pages/quem-somos.html">Quem Somos</a></li>
              <li><a href="/pages/cursos.html">Cursos</a></li>
              <li><a href="/pages/seja-instrutor-novo.html">Seja um Instrutor</a></li>
              <li><a href="/pages/contato.html">Contato</a></li>
            </ul>
          </div>
          <div class="footer-column">
            <h4>Contato</h4>
            <ul>
              <li><a href="mailto:contato@institutoburiti.com.br">📧 contato@institutoburiti.com.br</a></li>
              <li><a href="tel:+5586981708388">📞 (86) 98170-8388</a></li>
              <li>📍 Teresina, Piauí</li>
            </ul>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2024 Instituto Buriti. Todos os direitos reservados.</p>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="/js/dashboard.js" defer></script>
  <script>
    window.addEventListener('dashboard-auth:ready', () => {
      document.documentElement.removeAttribute('data-auth');
      document.body.setAttribute('aria-busy', 'false');
    }, { once: true });

    setTimeout(() => {
      if (document.documentElement.getAttribute('data-auth') === 'checking') {
        document.documentElement.removeAttribute('data-auth');
        document.body.setAttribute('aria-busy', 'false');
      }
    }, 2000);
  </script>
</body>
</html>